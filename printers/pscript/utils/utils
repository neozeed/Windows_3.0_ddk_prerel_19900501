#################### Makefile for Post Script Utilities ####################
#
# note: APD.EXE generates some include files used by the driver
# 	thus APD must be run before the driver can be built
#
# note: APD.EXE and PFMDIR.EXE have been replaced by MKPRN.EXE
#	they have been commented out of this file
#

CFLAGS = -I..

#
# dependencies for AFM.EXE  -------> Build AFM.EXE
#

afm.obj: afm.c pfm.h
	cl -c $(CFLAGS) afm.c

charcode.obj: charcode.c pfm.h
	cl -c $(CFLAGS) charcode.c

pfm.obj: pfm.c pfm.h globals.h
	cl -c $(CFLAGS) pfm.c

etm.obj: etm.c pfm.h
	cl -c $(CFLAGS) etm.c

afm.exe: afm.obj charcode.obj pfm.obj etm.obj
	link afm.obj charcode.obj pfm.obj etm.obj,,,slibcec;

#
# dependencies for PFMDUMP.EXE  -------> Build PFMDUMP.EXE
#

pfmdump.obj: pfmdump.c
	cl -c pfmdump.c

pfmdump.exe: pfmdump.obj
        link pfmdump.obj,,,slibcec;

#
# dependencies for smash.EXE --------> Build smash.EXE
#

smash.exe: smash.c
	cl -c smash.c

smash.exe: smash.obj
        link smash.obj,,,slibcec;

#
# dependencies for PFMDIR.EXE -------> Build PFMDIR.EXE
#

#pfmdir.exe: pfmdir.c afm.exe
#	cl -c pfmdir.c

#pfmdir.exe: pfmdir.obj
#        link pfmdir.obj,,,slibcec;



#
# make file to build APD.EXE (adobe printer description compiler)
#
# note: APD.EXE generates some include files used by the driver
# 	thus APD must be run before the driver can be built
#
#
# also builds READPSS.EXE (.PSS dumper)
#

CC = cl -c -W2 -Zip

#apd.obj: apd.c apd.h globals.h version.h
#	$(CC) apd.c

#apd1.obj: apd1.c apd.h globals.h apderror.h ..\paper.h
#	$(CC) apd1.c

#apd2.obj: apd2.c apd.h globals.h apderror.h
#	$(CC) apd2.c

#apd3.obj: apd3.c apd.h globals.h apderror.h
#	$(CC) apd3.c

#apd4.obj: apd4.c apd.h globals.h apderror.h
#	$(CC) apd4.c

#apd5.obj: apd5.c apd.h globals.h apderror.h
#	$(CC) apd5.c

#apdutils.obj: apdutils.c apd.h globals.h apderror.h
#	$(CC) apdutils.c

#apderror.obj: apderror.c apd.h globals.h apderror.h
#	$(CC) apderror.c

#apd.exe: apd.obj apd1.obj apd2.obj apd3.obj apd4.obj apd5.obj apdutils.obj apderror.obj
#	link apd apd1 apd2 apd3 apd4 apd5 apdutils apderror /ST:8192,,,slibcec;

# this includes files files generated by the APD compiler (the ids stuff
# so it must be run (in ..\resource) before this can be built

#readpss.exe: readpss.c ..\printcap.h
#	$(CC) readpss.c
#	link readpss /ST:8192,,,slibcec;




